<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVB | L'Excellence en Mouvement</title>
    <meta name="description" content="SVB Atelier - Performance Couture.">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@600;800;900&family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'svb-dark': '#050505',
                        'svb-light': '#F9F8F6',
                        'svb-accent': '#Cfb096', // Or sablé
                        'svb-cobalt': '#0033CC', // BLEU SIGNATURE
                        'svb-green': '#1B2E24'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                        tech: ['Archivo', 'sans-serif'] // Police "Brutaliste"
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'spin-slow': 'spin 12s linear infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* CSS PREMIUM */
        body { background-color: #F9F8F6; overflow-x: hidden; }
        
        /* Scrollbar Custom */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #0033CC; border-radius: 10px; }

        /* Loader Cinématique */
        .loader-overlay {
            position: fixed; inset: 0; background: #050505; z-index: 9999;
            display: flex; justify-content: center; align-items: center;
            transition: transform 0.8s cubic-bezier(0.77, 0, 0.175, 1);
        }
        
        /* Effets de Reveal */
        .reveal-img { clip-path: inset(0 0 100% 0); transition: clip-path 1.5s cubic-bezier(0.77, 0, 0.175, 1); }
        .reveal-img.active { clip-path: inset(0 0 0 0); }
        .line-wrapper { overflow: hidden; }
        .text-reveal { transform: translateY(100%); transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
        .text-reveal.visible { transform: translateY(0); }
    </style>
</head>
<body class="text-svb-dark antialiased selection:bg-svb-cobalt selection:text-white">

    <div id="loader" class="loader-overlay">
        <div class="text-center">
            <h1 class="text-white font-tech text-6xl tracking-widest mb-4 opacity-0" id="loader-text">SVB.</h1>
            <div class="w-0 h-[2px] bg-svb-cobalt mx-auto transition-all duration-1000" id="loader-line"></div>
        </div>
    </div>

    <nav id="navbar" class="fixed top-0 w-full z-50 transition-all duration-500 py-6 border-b border-transparent">
        <div class="max-w-[1800px] mx-auto px-8 flex justify-between items-center">
            
            <div class="flex items-center gap-6">
                <button class="group flex items-center gap-2 text-xs font-bold uppercase tracking-widest hover:text-svb-cobalt transition">
                    <div class="flex flex-col gap-1.5 w-6">
                        <span class="w-full h-[2px] bg-current group-hover:w-4 transition-all"></span>
                        <span class="w-3/4 h-[2px] bg-current group-hover:w-full transition-all"></span>
                    </div>
                    <span class="hidden md:block">Menu</span>
                </button>
                <div class="hidden md:flex gap-8 text-xs font-semibold uppercase tracking-widest ml-8">
                    <a href="#new" class="hover:text-svb-cobalt transition">Nouveautés</a>
                    
                    <a href="femme.html" class="hover:text-svb-cobalt transition font-bold text-svb-dark">Femme</a>
                    <a href="homme.html" class="hover:text-svb-cobalt transition font-bold text-svb-dark">Homme</a>
                    
                    <a href="#editorial" class="hover:text-svb-cobalt transition">Atelier</a>
                </div>
            </div>

            <a href="#" class="absolute left-1/2 -translate-x-1/2 text-3xl font-tech font-black tracking-tighter mix-blend-difference text-current z-50">
                SVB<span class="text-[10px] align-top opacity-60 font-sans tracking-widest ml-1 font-normal">PARIS</span>
            </a>

            <div class="flex items-center gap-6">
                <button onclick="app.toggleSearch()" class="hover:text-svb-cobalt transition"><i data-lucide="search" class="w-5 h-5"></i></button>
                <button class="hover:text-svb-cobalt transition hidden sm:block"><i data-lucide="heart" class="w-5 h-5"></i></button>
                <button onclick="app.toggleCart()" class="relative hover:text-svb-cobalt transition">
                    <i data-lucide="shopping-bag" class="w-5 h-5"></i>
                    <span id="cart-pill" class="absolute -top-1 -right-2 bg-svb-cobalt text-white text-[9px] w-4 h-4 rounded-full flex items-center justify-center opacity-0 transition-opacity">0</span>
                </button>
            </div>
        </div>
    </nav>

    <header class="relative w-full h-screen overflow-hidden bg-black">
        <video autoplay muted loop playsinline class="absolute inset-0 w-full h-full object-cover opacity-80 scale-105" id="hero-video">
            <source src="https://cdn.coverr.co/videos/coverr-shadow-of-a-woman-doing-yoga-poses-2621/1080p.mp4" type="video/mp4">
        </video>
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
        
        <div class="absolute bottom-0 left-0 w-full p-10 md:p-20 text-white flex flex-col md:flex-row justify-between items-end">
            <div class="max-w-2xl">
                <div class="line-wrapper mb-2">
                    <p class="text-reveal text-sm font-tech font-bold tracking-[0.3em] text-svb-cobalt uppercase">Collection Automne-Hiver</p>
                </div>
                <div class="line-wrapper">
                    <h1 class="text-reveal text-6xl md:text-8xl font-serif leading-[0.9] mb-6">
                        L'Art du <br><span class="italic font-light">Mouvement</span>.
                    </h1>
                </div>
                <div class="line-wrapper">
                    <p class="text-reveal text-white/70 text-lg max-w-md font-light">
                        Une ingénierie textile invisible. Une esthétique pure. Conçu pour ceux qui exigent l'excellence.
                    </p>
                </div>
                <div class="mt-10 opacity-0 translate-y-10" id="hero-cta">
                    <button onclick="document.getElementById('split-collections').scrollIntoView({behavior: 'smooth'})" class="bg-white text-black px-10 py-4 text-xs font-bold uppercase tracking-widest hover:bg-svb-cobalt hover:text-white transition duration-500 font-tech">
                        Explorer
                    </button>
                </div>
            </div>
            
            <div class="hidden md:block animate-float">
                <div class="w-32 h-32 border border-white/20 rounded-full flex items-center justify-center backdrop-blur-md">
                    <span class="text-[10px] uppercase tracking-widest text-center font-tech">Scroll<br>Down</span>
                </div>
            </div>
        </div>
    </header>

    <div class="bg-svb-cobalt text-white py-4 overflow-hidden whitespace-nowrap border-y border-white/10">
        <div class="inline-block animate-[float_20s_linear_infinite]">
            <span class="mx-8 text-xs font-bold uppercase tracking-[0.2em]">Livraison Offerte dès 150€</span>
            <span class="mx-8 text-xs font-bold uppercase tracking-[0.2em]">★ ★ ★ ★ ★ "Le meilleur legging du monde" - Vogue</span>
            <span class="mx-8 text-xs font-bold uppercase tracking-[0.2em]">Retours Gratuits 30 Jours</span>
            <span class="mx-8 text-xs font-bold uppercase tracking-[0.2em]">Nouveautés chaque Vendredi</span>
        </div>
    </div>

    <section id="split-collections" class="w-full grid grid-cols-1 md:grid-cols-2 h-[85vh] border-b border-black/10">
        
        <a href="femme.html" class="group relative block w-full h-full overflow-hidden border-r border-black/10 cursor-pointer">
            <div class="absolute inset-0 bg-black/40 z-10 group-hover:bg-transparent transition duration-700"></div>
            <img src="https://images.unsplash.com/photo-1541336528065-8f1fdc435835?q=80&w=1200&auto=format&fit=crop" 
                 class="absolute inset-0 w-full h-full object-cover transition duration-[1.5s] group-hover:scale-105 filter grayscale group-hover:grayscale-0">
            
            <div class="absolute inset-0 flex flex-col items-center justify-center z-20">
                <span class="text-white text-xs font-tech font-bold tracking-[0.3em] uppercase mb-4 opacity-0 translate-y-4 group-hover:opacity-100 group-hover:translate-y-0 transition duration-500">Collection</span>
                <h2 class="text-6xl md:text-8xl font-tech font-black text-white tracking-tighter group-hover:text-svb-cobalt transition duration-300">FEMME</h2>
                <div class="mt-8 bg-white text-black px-8 py-3 text-[10px] font-bold uppercase tracking-widest opacity-0 group-hover:opacity-100 transition duration-700 font-tech">
                    Entrer
                </div>
            </div>
        </a>
    
        <a href="homme.html" class="group relative block w-full h-full overflow-hidden cursor-pointer">
            <div class="absolute inset-0 bg-black/40 z-10 group-hover:bg-transparent transition duration-700"></div>
            <img src="https://images.unsplash.com/photo-1517466787929-bc90951d6dbd?q=80&w=1200&auto=format&fit=crop" 
                 class="absolute inset-0 w-full h-full object-cover transition duration-[1.5s] group-hover:scale-105 filter grayscale group-hover:grayscale-0">
            
            <div class="absolute inset-0 flex flex-col items-center justify-center z-20">
                <span class="text-white text-xs font-tech font-bold tracking-[0.3em] uppercase mb-4 opacity-0 translate-y-4 group-hover:opacity-100 group-hover:translate-y-0 transition duration-500">Collection</span>
                <h2 class="text-6xl md:text-8xl font-tech font-black text-white tracking-tighter group-hover:text-svb-cobalt transition duration-300">HOMME</h2>
                <div class="mt-8 bg-white text-black px-8 py-3 text-[10px] font-bold uppercase tracking-widest opacity-0 group-hover:opacity-100 transition duration-700 font-tech">
                    Entrer
                </div>
            </div>
        </a>
    
    </section>

    <section id="catalog" class="max-w-[1800px] mx-auto px-6 py-24 min-h-screen">
        
        <div class="sticky top-24 z-30 bg-[#F9F8F6]/95 backdrop-blur-sm py-6 mb-12 flex flex-col md:flex-row justify-between items-center border-b border-gray-200">
            <div>
                <h2 class="text-3xl font-tech font-bold">ICONIQUES SVB.</h2>
                <span id="items-count" class="text-xs text-gray-500 font-mono mt-1 block">Chargement...</span>
            </div>
            
            <div class="flex gap-4 mt-4 md:mt-0" id="filters-container">
                </div>
        </div>

        <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-y-16 gap-x-8">
            </div>

        <div class="mt-24 text-center">
            <button class="border-b border-black pb-1 text-xs font-bold uppercase tracking-widest hover:text-svb-cobalt hover:border-svb-cobalt transition">Tout voir (42)</button>
        </div>
    </section>

    <section id="editorial" class="relative w-full py-24 bg-white">
        <div class="max-w-[1800px] mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-20 items-center">
            <div class="relative h-[80vh] overflow-hidden reveal-container group">
                <img src="https://images.unsplash.com/photo-1534438327276-14e5300c3a48?q=80&w=1600&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover reveal-img transition-transform duration-[2s] group-hover:scale-110" id="parallax-img">
                <div class="absolute bottom-10 left-10 bg-white/90 p-6 backdrop-blur-md max-w-xs">
                    <p class="text-xs font-bold uppercase tracking-widest mb-2 font-tech text-svb-cobalt">Matière Signature</p>
                    <p class="text-sm font-serif italic">"Une seconde peau qui ne comprime jamais, mais soutient toujours."</p>
                </div>
            </div>
            <div class="lg:pl-10">
                <span class="text-svb-cobalt text-xs font-bold uppercase tracking-[0.3em] block mb-6">Philosophie</span>
                <h2 class="text-5xl md:text-7xl font-serif mb-8 leading-tight">Silence & <br>Performance.</h2>
                <p class="text-lg text-gray-500 font-light leading-relaxed mb-10">
                    Pas de logos criards. Pas de coutures inutiles. 
                    Juste une coupe architecturale et des tissus italiens techniques qui résistent à l'épreuve du temps.
                </p>
                <div class="grid grid-cols-2 gap-8 mb-10">
                    <div>
                        <h4 class="font-bold text-xl mb-2">01. Innovation</h4>
                        <p class="text-xs text-gray-500 leading-6">Micro-fibres infusées à l'argent pour une action anti-bactérienne naturelle.</p>
                    </div>
                    <div>
                        <h4 class="font-bold text-xl mb-2">02. Durabilité</h4>
                        <p class="text-xs text-gray-500 leading-6">Conçu pour durer 5x plus longtemps que les vêtements de sport traditionnels.</p>
                    </div>
                </div>
                <button class="bg-svb-dark text-white px-10 py-4 text-xs font-bold uppercase tracking-widest hover:bg-svb-cobalt transition font-tech">Lire le journal</button>
            </div>
        </div>
    </section>

    <footer class="bg-svb-dark text-white pt-24 pb-10">
        <div class="max-w-[1800px] mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12 border-b border-white/10 pb-20">
            <div class="md:col-span-1">
                <h3 class="text-3xl font-tech font-black tracking-tighter mb-8">SVB.</h3>
                <p class="text-white/50 text-sm leading-relaxed max-w-xs">
                    Paris, France.<br>
                    Depuis 2026.<br><br>
                    L'intersection de la mode et de la performance.
                </p>
            </div>
            <div>
                <h4 class="text-xs font-bold uppercase tracking-widest mb-6 text-white/40">Boutique</h4>
                <ul class="space-y-4 text-sm font-light">
                    <li><a href="femme.html" class="hover:text-svb-cobalt transition">Femme</a></li>
                    <li><a href="homme.html" class="hover:text-svb-cobalt transition">Homme</a></li>
                    <li><a href="#" class="hover:text-svb-cobalt transition">Accessoires</a></li>
                    <li><a href="#" class="hover:text-svb-cobalt transition">Cartes Cadeaux</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-xs font-bold uppercase tracking-widest mb-6 text-white/40">Support</h4>
                <ul class="space-y-4 text-sm font-light">
                    <li><a href="#" class="hover:text-svb-cobalt transition">Nous contacter</a></li>
                    <li><a href="#" class="hover:text-svb-cobalt transition">Livraisons</a></li>
                    <li><a href="#" class="hover:text-svb-cobalt transition">Retours & Échanges</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-xs font-bold uppercase tracking-widest mb-6 text-white/40">Newsletter</h4>
                <p class="text-white/50 text-xs mb-4">Accès prioritaire aux nouvelles collections.</p>
                <div class="flex border-b border-white/30 py-2">
                    <input type="email" placeholder="Email" class="bg-transparent w-full outline-none text-sm placeholder:text-white/20">
                    <button class="text-xs font-bold uppercase tracking-widest hover:text-svb-cobalt transition">OK</button>
                </div>
                <div class="flex gap-4 mt-8">
                    <i data-lucide="instagram" class="w-5 h-5 opacity-50 hover:opacity-100 cursor-pointer transition"></i>
                    <i data-lucide="facebook" class="w-5 h-5 opacity-50 hover:opacity-100 cursor-pointer transition"></i>
                </div>
            </div>
        </div>
        <div class="max-w-[1800px] mx-auto px-6 pt-10 flex flex-col md:flex-row justify-between text-[10px] uppercase tracking-widest text-white/30">
            <p>© 2026 SVB Atelier. Tous droits réservés.</p>
            <div class="flex gap-6 mt-4 md:mt-0">
                <a href="#">Confidentialité</a>
                <a href="#">CGV</a>
            </div>
        </div>
    </footer>

    <div id="cart-overlay" onclick="app.toggleCart()" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] hidden transition-opacity opacity-0"></div>
    <div id="cart-drawer" class="fixed top-0 right-0 h-full w-full md:w-[500px] bg-[#F9F8F6] z-[70] transform translate-x-full transition-transform duration-500 shadow-2xl flex flex-col">
        <div class="p-8 border-b border-gray-200 flex justify-between items-center bg-white">
            <h3 class="font-serif text-2xl">Panier (<span id="cart-count-header">0</span>)</h3>
            <button onclick="app.toggleCart()" class="hover:rotate-180 transition duration-500"><i data-lucide="x" class="w-6 h-6"></i></button>
        </div>
        <div id="cart-items" class="flex-1 overflow-y-auto p-8 space-y-6">
            <div class="h-full flex flex-col items-center justify-center text-gray-400">
                <p class="mb-4">Votre panier est vide.</p>
                <button onclick="app.toggleCart()" class="text-black underline text-sm font-bold">Retourner à la boutique</button>
            </div>
        </div>
        <div class="p-8 bg-white border-t border-gray-200">
            <div class="flex justify-between mb-4 text-sm">
                <span class="text-gray-500">Sous-total</span>
                <span id="cart-total" class="font-bold">0.00 €</span>
            </div>
            <button class="w-full bg-svb-cobalt text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition flex justify-center items-center gap-2 font-tech">
                Paiement Sécurisé <i data-lucide="lock" class="w-3 h-3"></i>
            </button>
        </div>
    </div>

    <div id="search-modal" class="fixed inset-0 bg-white/98 z-[80] hidden flex flex-col items-center justify-center transition-all duration-300 opacity-0 scale-95">
        <button onclick="app.toggleSearch()" class="absolute top-10 right-10 p-2"><i data-lucide="x" class="w-8 h-8 text-gray-400 hover:text-black transition"></i></button>
        <span class="text-xs font-bold uppercase tracking-[0.3em] text-svb-accent mb-6">Rechercher une pièce</span>
        <input type="text" id="search-input" placeholder="LEGGING, TOP..." class="text-5xl md:text-7xl font-serif text-center bg-transparent border-b border-gray-200 pb-4 w-2/3 focus:outline-none focus:border-black transition uppercase placeholder:text-gray-200">
        <div class="mt-8 flex gap-4 text-xs text-gray-400 uppercase tracking-widest">
            <span>Populaire :</span>
            <button class="hover:text-black underline">Signature</button>
            <button class="hover:text-black underline">Yoga Mat</button>
            <button class="hover:text-black underline">Noir</button>
        </div>
    </div>

    <div id="qv-modal" class="fixed inset-0 z-[90] hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-md" onclick="app.closeQuickView()"></div>
        <div class="bg-white w-full max-w-5xl max-h-[90vh] overflow-y-auto relative z-10 grid grid-cols-1 md:grid-cols-2 shadow-2xl animate-fade-in-up">
            <div class="bg-gray-100 relative group">
                <img id="qv-img" src="" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition"></div>
            </div>
            <div class="p-10 md:p-14 flex flex-col justify-center">
                <button onclick="app.closeQuickView()" class="absolute top-6 right-6 p-2 hover:bg-gray-100 rounded-full transition"><i data-lucide="x" class="w-5 h-5"></i></button>
                
                <span id="qv-cat" class="text-svb-cobalt text-xs font-bold uppercase tracking-widest mb-3 font-tech"></span>
                <h2 id="qv-title" class="text-4xl font-serif mb-4"></h2>
                <p id="qv-price" class="text-xl font-medium mb-6"></p>
                <div class="w-10 h-[1px] bg-black mb-6"></div>
                <p id="qv-desc" class="text-gray-500 font-light leading-relaxed mb-8 text-sm"></p>
                
                <div class="mb-8">
                    <span class="text-xs font-bold uppercase mb-3 block">Couleur</span>
                    <div class="flex gap-3">
                        <div class="w-6 h-6 rounded-full bg-black cursor-pointer ring-2 ring-offset-2 ring-gray-300"></div>
                        <div class="w-6 h-6 rounded-full bg-[#1B2E24] cursor-pointer hover:ring-2 hover:ring-offset-2 hover:ring-gray-300 transition"></div>
                        <div class="w-6 h-6 rounded-full bg-[#Cfb096] cursor-pointer hover:ring-2 hover:ring-offset-2 hover:ring-gray-300 transition"></div>
                    </div>
                </div>

                <div class="mb-10">
                    <span class="text-xs font-bold uppercase mb-3 block">Taille</span>
                    <div class="grid grid-cols-5 gap-2">
                        <button class="h-10 border border-gray-200 text-xs hover:bg-black hover:text-white transition">XS</button>
                        <button class="h-10 border border-gray-200 text-xs hover:bg-black hover:text-white transition">S</button>
                        <button class="h-10 border border-black bg-black text-white text-xs">M</button>
                        <button class="h-10 border border-gray-200 text-xs hover:bg-black hover:text-white transition">L</button>
                        <button class="h-10 border border-gray-200 text-xs hover:bg-black hover:text-white transition">XL</button>
                    </div>
                </div>

                <div class="flex gap-4">
                    <button id="qv-add-btn" class="flex-1 bg-svb-cobalt text-white py-4 text-xs font-bold uppercase tracking-widest hover:bg-black transition font-tech">
                        Ajouter au panier
                    </button>
                    <button class="px-6 border border-gray-200 hover:border-black transition"><i data-lucide="heart" class="w-5 h-5"></i></button>
                </div>
            </div>
        </div>
    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-svb-cobalt text-white px-8 py-4 rounded-full shadow-2xl flex items-center gap-4 translate-y-20 opacity-0 transition-all duration-500 z-[100]">
        <i data-lucide="check-circle" class="w-5 h-5 text-white"></i>
        <span class="text-xs font-bold uppercase tracking-widest font-tech">Produit ajouté au panier</span>
    </div>

    <script>
        // --- 1. BASE DE DONNÉES SIMULÉE ---
        const DB = [
            { id: 101, name: "Legging Align™ High-Rise", category: "Signature", price: 98, image: "https://images.unsplash.com/photo-1518310383802-640c2de311b2?w=800&q=80", desc: "Le tissu Nulu™ est si doux et léger qu'il se fait oublier. Conçu pour le yoga.", tags: ["new", "best"] },
            { id: 102, name: "Veste Define Luon", category: "Performance", price: 118, image: "https://images.unsplash.com/photo-1517836357463-d25dfeac3438?w=800&q=80", desc: "Cintrée, technique, respirante. La veste parfaite pour l'avant et l'après.", tags: ["warm"] },
            { id: 103, name: "Brassière Energy Longline", category: "Studio", price: 68, image: "https://images.unsplash.com/photo-1571731956672-f2b94d7dd0cb?w=800&q=80", desc: "Soutien moyen B/C. Tissu Luxtreme™ évacuant la transpiration.", tags: [] },
            { id: 104, name: "Pantalon City Sweat", category: "Lifestyle", price: 128, image: "https://images.unsplash.com/photo-1483721310020-03333e577078?w=800&q=80", desc: "Molleton extensible d'ingénierie française. Confort urbain ultime.", tags: ["men"] },
            { id: 105, name: "Tapis 'The Reversible' 5mm", category: "Accessoires", price: 88, image: "https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=800&q=80", desc: "Grip naturel en caoutchouc. Amorti supérieur pour les articulations.", tags: [] },
            { id: 106, name: "Cycliste Align™ 6\"", category: "Signature", price: 64, image: "https://images.unsplash.com/photo-1554629631-7e3e7f4c39cb?w=800&q=80", desc: "La version courte de notre classique. Taille haute flatteuse.", tags: ["summer"] },
            { id: 107, name: "T-shirt Metal Vent Tech", category: "Performance", price: 78, image: "https://images.unsplash.com/photo-1539185441755-769473a23570?w=800&q=80", desc: "Construction sans coutures. Technologie Silverescent™ anti-odeurs.", tags: ["men"] },
            { id: 108, name: "Sweat Scuba Oversized", category: "Lifestyle", price: 148, image: "https://images.unsplash.com/photo-1552196563-55cd4e45efb3?w=800&q=80", desc: "Coupe ample, mélange coton polaire épais. Le confort repensé.", tags: ["best"] }
        ];

        // --- 2. APPLICATION CORE ---
        const app = {
            state: {
                cart: [],
                filter: 'All',
                search: ''
            },

            init() {
                this.domElements();
                this.renderFilters();
                this.renderProducts(DB);
                this.handleScroll();
                this.initLoader();
                lucide.createIcons();
            },

            domElements() {
                this.grid = document.getElementById('product-grid');
                this.cartCount = document.getElementById('cart-pill');
                this.cartItems = document.getElementById('cart-items');
                this.cartTotal = document.getElementById('cart-total');
                this.navbar = document.getElementById('navbar');
            },

            initLoader() {
                // Séquence d'animation d'intro
                setTimeout(() => document.getElementById('loader-text').classList.remove('opacity-0'), 300);
                setTimeout(() => document.getElementById('loader-line').classList.remove('w-0'), 500);
                setTimeout(() => document.getElementById('loader-line').classList.add('w-24'), 500);
                
                setTimeout(() => {
                    const loader = document.getElementById('loader');
                    loader.style.transform = 'translateY(-100%)';
                    
                    // Trigger hero animations
                    const texts = document.querySelectorAll('.text-reveal');
                    texts.forEach((el, i) => {
                        setTimeout(() => el.classList.add('visible'), 300 + (i * 150));
                    });
                    
                    setTimeout(() => {
                        document.getElementById('hero-cta').classList.remove('opacity-0', 'translate-y-10');
                    }, 1200);

                }, 2000);
            },

            handleScroll() {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 50) {
                        this.navbar.classList.add('bg-white/90', 'backdrop-blur-md', 'shadow-sm', 'py-4');
                        this.navbar.classList.remove('py-6');
                    } else {
                        this.navbar.classList.remove('bg-white/90', 'backdrop-blur-md', 'shadow-sm', 'py-4');
                        this.navbar.classList.add('py-6');
                    }

                    // Reveal on scroll logic
                    const reveals = document.querySelectorAll('.reveal-img');
                    reveals.forEach(img => {
                        const rect = img.getBoundingClientRect();
                        if (rect.top < window.innerHeight - 100) {
                            img.classList.add('active');
                        }
                    });
                });
            },

            renderFilters() {
                const categories = ['All', ...new Set(DB.map(p => p.category))];
                const container = document.getElementById('filters-container');
                
                container.innerHTML = categories.map(cat => `
                    <button onclick="app.setFilter('${cat}')" 
                        class="px-5 py-2 rounded-full text-xs font-bold uppercase tracking-wider border transition ${this.state.filter === cat ? 'bg-svb-dark text-white border-svb-dark' : 'bg-transparent border-gray-300 hover:border-svb-dark'}">
                        ${cat}
                    </button>
                `).join('');
            },

            setFilter(cat) {
                this.state.filter = cat;
                this.renderFilters(); // Update active class
                
                // Anim Out
                this.grid.style.opacity = '0';
                this.grid.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    const filtered = cat === 'All' ? DB : DB.filter(p => p.category === cat);
                    this.renderProducts(filtered);
                    // Anim In
                    this.grid.style.opacity = '1';
                    this.grid.style.transform = 'translateY(0)';
                }, 300);
            },

            renderProducts(products) {
                document.getElementById('items-count').innerText = `${products.length} Articles`;
                
                if (products.length === 0) {
                    this.grid.innerHTML = `<div class="col-span-4 text-center py-20 text-gray-400">Aucun produit trouvé.</div>`;
                    return;
                }

                this.grid.innerHTML = products.map(product => `
                    <div class="group cursor-pointer">
                        <div class="relative overflow-hidden aspect-[4/5] bg-gray-200 mb-6">
                            ${product.tags.includes('new') ? `<span class="absolute top-4 left-4 bg-white px-3 py-1 text-[10px] font-bold uppercase tracking-widest z-20">Nouveau</span>` : ''}
                            ${product.tags.includes('best') ? `<span class="absolute top-4 left-4 bg-svb-accent text-white px-3 py-1 text-[10px] font-bold uppercase tracking-widest z-20">Best Seller</span>` : ''}
                            
                            <img src="${product.image}" class="w-full h-full object-cover transition duration-1000 group-hover:scale-105" loading="lazy">
                            
                            <div class="absolute inset-x-0 bottom-0 p-4 translate-y-full group-hover:translate-y-0 transition duration-500 ease-out z-20 flex gap-2">
                                <button onclick="app.addToCart(${product.id})" class="flex-1 bg-white/90 backdrop-blur text-black py-3 text-[10px] font-bold uppercase tracking-widest hover:bg-svb-dark hover:text-white transition font-tech">Ajouter</button>
                                <button onclick="app.openQuickView(${product.id})" class="px-4 bg-white/90 backdrop-blur text-black hover:bg-svb-dark hover:text-white transition"><i data-lucide="eye" class="w-4 h-4"></i></button>
                            </div>
                        </div>
                        
                        <div class="flex justify-between items-start">
                            <div>
                                <h3 class="font-serif text-lg text-svb-dark group-hover:underline underline-offset-4 decoration-1">${product.name}</h3>
                                <p class="text-xs text-gray-400 uppercase tracking-wider mt-1">${product.category}</p>
                            </div>
                            <span class="text-sm font-medium font-tech">${product.price} €</span>
                        </div>
                    </div>
                `).join('');
                
                lucide.createIcons();
            },

            // --- CART & MODALS ---
            
            addToCart(id) {
                const product = DB.find(p => p.id === id);
                this.state.cart.push(product);
                this.updateCartUI();
                this.showToast();
            },

            removeFromCart(index) {
                this.state.cart.splice(index, 1);
                this.updateCartUI();
            },

            updateCartUI() {
                // Count
                const count = this.state.cart.length;
                this.cartCount.innerText = count;
                document.getElementById('cart-count-header').innerText = count;
                this.cartCount.style.opacity = count > 0 ? '1' : '0';

                // Items
                if (count === 0) {
                    this.cartItems.innerHTML = `<div class="h-full flex flex-col items-center justify-center text-gray-400"><p class="mb-4 text-sm">Votre panier est vide.</p><button onclick="app.toggleCart()" class="text-black underline text-xs font-bold uppercase tracking-widest">Retourner à la boutique</button></div>`;
                } else {
                    this.cartItems.innerHTML = this.state.cart.map((item, idx) => `
                        <div class="flex gap-4 animate-[fadeIn_0.3s_ease-out]">
                            <div class="w-20 h-24 bg-gray-100 overflow-hidden shrink-0">
                                <img src="${item.image}" class="w-full h-full object-cover">
                            </div>
                            <div class="flex-1 flex flex-col justify-between py-1">
                                <div>
                                    <h4 class="font-serif text-sm">${item.name}</h4>
                                    <p class="text-[10px] text-gray-500 uppercase mt-1">Taille: M</p>
                                </div>
                                <div class="flex justify-between items-end">
                                    <span class="text-sm font-bold">${item.price} €</span>
                                    <button onclick="app.removeFromCart(${idx})" class="text-xs text-gray-400 underline hover:text-red-500">Retirer</button>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }

                // Total
                const total = this.state.cart.reduce((sum, item) => sum + item.price, 0);
                this.cartTotal.innerText = total.toFixed(2) + " €";
            },

            toggleCart() {
                const drawer = document.getElementById('cart-drawer');
                const overlay = document.getElementById('cart-overlay');
                
                const isOpen = !drawer.classList.contains('translate-x-full');
                
                if (isOpen) {
                    drawer.classList.add('translate-x-full');
                    overlay.classList.remove('opacity-100');
                    overlay.classList.add('opacity-0');
                    setTimeout(() => overlay.classList.add('hidden'), 500);
                    document.body.style.overflow = '';
                } else {
                    overlay.classList.remove('hidden');
                    // Force reflow
                    void overlay.offsetWidth;
                    overlay.classList.remove('opacity-0');
                    overlay.classList.add('opacity-100');
                    drawer.classList.remove('translate-x-full');
                    document.body.style.overflow = 'hidden';
                }
            },

            // --- QUICK VIEW ---
            
            openQuickView(id) {
                const p = DB.find(x => x.id === id);
                document.getElementById('qv-img').src = p.image;
                document.getElementById('qv-cat').innerText = p.category;
                document.getElementById('qv-title').innerText = p.name;
                document.getElementById('qv-price').innerText = p.price + " €";
                document.getElementById('qv-desc').innerText = p.desc;
                
                document.getElementById('qv-add-btn').onclick = () => {
                    this.addToCart(id);
                    this.closeQuickView();
                };

                const modal = document.getElementById('qv-modal');
                modal.classList.remove('hidden');
            },

            closeQuickView() {
                document.getElementById('qv-modal').classList.add('hidden');
            },

            // --- SEARCH ---
            
            toggleSearch() {
                const modal = document.getElementById('search-modal');
                const input = document.getElementById('search-input');
                
                if (modal.classList.contains('hidden')) {
                    modal.classList.remove('hidden');
                    setTimeout(() => {
                        modal.classList.remove('opacity-0', 'scale-95');
                        modal.classList.add('opacity-100', 'scale-100');
                        input.focus();
                    }, 10);
                } else {
                    modal.classList.remove('opacity-100', 'scale-100');
                    modal.classList.add('opacity-0', 'scale-95');
                    setTimeout(() => modal.classList.add('hidden'), 300);
                }
            },

            showToast() {
                const toast = document.getElementById('toast');
                toast.classList.remove('translate-y-20', 'opacity-0');
                setTimeout(() => {
                    toast.classList.add('translate-y-20', 'opacity-0');
                }, 3000);
            }
        };

        // Start
        window.addEventListener('DOMContentLoaded', () => app.init());

    </script>
</body>
</html>